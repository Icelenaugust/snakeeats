(this["webpackJsonpgame-app"]=this["webpackJsonpgame-app"]||[]).push([[0],{40:function(e,t,a){},41:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var s,n=a(2),c=a(4),i=a(33),r=a.n(i),o=(a(40),a(14)),l=a(15),d=a(11),h=a(17),u=a(16),m=[{title:"Home",path:"/",cName:"nav-links"},{title:"Rules",path:"/rules",cName:"nav-links"},{title:"Game",path:"/game",cName:"nav-links"},{title:"Log In",path:"/login",cName:"nav-links-mobile"}],p=(a(41),a(19)),j=["btn--primary","btn--outline"],b=["btn--medium","btn--large"],f=function(e){var t=e.children,a=e.type,s=e.onClick,c=e.buttonStyle,i=e.buttonSize,r=j.includes(c)?c:j[0],o=b.includes(i)?i:b[0];return Object(n.jsx)(p.b,{to:"/login",children:Object(n.jsx)("button",{className:"btn ".concat(r," ").concat(o),onClick:s,type:a,children:t})})},v=(a(46),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={clicked:!1},e.handleClick=function(){e.setState({clicked:!e.state.clicked})},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("nav",{className:"NavbarItems",children:[Object(n.jsx)("h1",{className:"navbar-logo",children:" Snake Eats "}),Object(n.jsx)("div",{className:"menu-icon",onClick:this.handleClick,children:Object(n.jsx)("i",{className:this.state.clicked?"fas fa-times":"fas fa-bars"})}),Object(n.jsx)("ul",{className:this.state.clicked?"nav-menu active":"nav-menu",children:m.map((function(e,t){return Object(n.jsx)("li",{className:e.cName,children:Object(n.jsx)(p.b,{to:e.path,children:Object(n.jsx)("span",{children:e.title})})},t)}))}),Object(n.jsx)(f,{children:"Log In"})]})}}]),a}(c.Component)),O=(a(47),a(8)),g=(a(48),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"homepage",children:"Welcome!"})})}}]),a}(c.Component)),k=a(26),x=a(22).a.initializeApp({apiKey:"AIzaSyA67SvEOgHoiv4M8Yc8FmM6K-MkIffgKoI",authDomain:"snakeit-2827f.firebaseapp.com",projectId:"snakeit-2827f",storageBucket:"snakeit-2827f.appspot.com",messagingSenderId:"357715614229",appId:"1:357715614229:web:c3771de2ec2aefa586cc1c",measurementId:"G-QRZFKXS3X0",databaseURL:"https://snakeit-2827f-default-rtdb.firebaseio.com"}),y=(a(52),function(e){return Object(n.jsx)("div",{children:e.snakeDots.map((function(e,t){var a={left:"".concat(e[0],"%"),top:"".concat(e[1],"%")};return Object(n.jsx)("div",{className:"snake-dot",style:a},t)}))})}),N=function(e){var t={left:"".concat(e.dot[0],"%"),top:"".concat(e.dot[1],"%")};return Object(n.jsx)("div",{className:"snake-food",style:t})},w=x.database();x.auth().onAuthStateChanged((function(e){e&&(s=e)})),null!=s&&(s.displayName,s.email,s.uid);var S=function(){return[2*Math.floor((98*Math.random()+1)/2),2*Math.floor((98*Math.random()+1)/2)]},C={food:S(),speed:100,direction:"RIGHT",snakeDots:[[0,0],[2,0]]},I=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).state=C,s.cycleStart=function(){setInterval(s.moveSnake,s.state.speed),document.onkeydown=s.onkeydown},s.onkeydown=function(e){switch((e=e||window.event).keyCode){case 38:s.setState({direction:"UP"});break;case 40:s.setState({direction:"DOWN"});break;case 37:s.setState({direction:"LEFT"});break;case 39:s.setState({direction:"RIGHT"})}},s.moveSnake=function(){var e=Object(k.a)(s.state.snakeDots),t=e[e.length-1];switch(s.state.direction){case"RIGHT":t=[t[0]+2,t[1]];break;case"LEFT":t=[t[0]-2,t[1]];break;case"DOWN":t=[t[0],t[1]+2];break;case"UP":t=[t[0],t[1]-2]}e.push(t),e.shift(),s.setState({snakeDots:e})},s.onkeydown=s.onkeydown.bind(Object(d.a)(s)),s.moveSnake=s.moveSnake.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(){this.checkBorder(),this.checkSnake(),this.checkEat()}},{key:"checkBorder",value:function(){var e=this.state.snakeDots[this.state.snakeDots.length-1];(e[0]>=100||e[1]>=100||e[0]<0||e[1]<0)&&this.onGameOver()}},{key:"checkSnake",value:function(){var e=this,t=Object(k.a)(this.state.snakeDots),a=t[t.length-1];t.pop(),t.forEach((function(t){a[0]==t[0]&&a[1]==t[1]&&e.onGameOver()}))}},{key:"checkEat",value:function(){var e=this.state.snakeDots[this.state.snakeDots.length-1],t=this.state.food;e[0]==t[0]&&e[1]==t[1]&&(this.setState({food:S()}),this.enlargeSnake(),this.increaseSpeed())}},{key:"enlargeSnake",value:function(){var e=Object(k.a)(this.state.snakeDots);e.unshift([]),this.setState({snakeDots:e})}},{key:"increaseSpeed",value:function(){this.state.speed>10&&this.setState({speed:this.state.speed-10})}},{key:"onGameOver",value:function(){var e=this;(alert("Game Over. Snake length is ".concat(this.state.snakeDots.length),{text:"cancel"}),null!=s)&&x.database().ref("users/"+s.uid+"/highestScore").on("value",(function(t){var a,n,c;t.val()<e.state.snakeDots.length&&(a=s.uid,n=s.displayName,c=e.state.snakeDots.length,w.ref("users/"+a).set({username:n,highestScore:c}))}));this.setState(C)}},{key:"render",value:function(){var e;s?x.database().ref("users/"+s.uid+"/highestScore").on("value",(function(t){e=t.val()})):e="Not Loaded Yet";return Object(n.jsxs)("div",{className:"flexbox-container",children:[Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("div",{className:"player-profile",children:["Player: ",s&&s.displayName?s.displayName:"Not Loaded Yet"," "]}),Object(n.jsxs)("div",{className:"player-profile",children:["Highest Score: ",e," "]})]}),Object(n.jsxs)("div",{children:[Object(n.jsx)("button",{className:"startButton",onClick:this.cycleStart,children:"Start"}),Object(n.jsxs)("div",{className:"game-area",children:[Object(n.jsx)(y,{snakeDots:this.state.snakeDots}),Object(n.jsx)(N,{dot:this.state.food})]})]})]})}}]),a}(c.Component),D=a(25);a(53),a(54);var E=x.database(),P=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).redirect=function(){var e=s.props.history;e&&e.push("/")},s.signup=s.signup.bind(Object(d.a)(s)),s.handleChange=s.handleChange.bind(Object(d.a)(s)),s.state={displayName:"",email:"",password:"",confirmedpassword:"",errorMessage:""},s}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"signup",value:function(e){var t=this;if(e.preventDefault(),this.state.errorMessage="",this.state.password!=this.state.confirmedpassword)return this.state.errorMessage="Password Mismatch",console.log(this.state.errorMessage),alert("".concat(this.state.errorMessage,", please re-enter your password.")),this.state.errorMessage;x.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then((function(e){var a,s,n,c=x.auth().currentUser;c.updateProfile({displayName:t.state.displayName}).then((function(){})).catch((function(e){})),a=c.uid,s=c.displayName,n=0,E.ref("users/"+a).set({username:s,highestScore:n}),t.redirect()})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(n.jsx)("div",{children:Object(n.jsx)("div",{className:"signup-tab",children:Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{class:"form-group",children:[Object(n.jsx)("label",{className:"signup-title",for:"exampleInputEmail1",children:"Username"}),Object(n.jsx)("input",{value:this.state.displayName,onChange:this.handleChange,type:"displayName",name:"displayName",class:"form-control",id:"exampleDisplayName",placeholder:"Create a Username"})]}),Object(n.jsxs)("div",{class:"form-group",children:[Object(n.jsx)("label",{className:"signup-title",for:"exampleInputEmail1",children:"Email Address"}),Object(n.jsx)("input",{value:this.state.email,onChange:this.handleChange,type:"email",name:"email",class:"form-control",id:"exampleInputEmail1",placeholder:"Enter Email"})]}),Object(n.jsxs)("div",{class:"form-group",children:[Object(n.jsx)("label",{className:"signup-title",for:"exampleInputPassword1",children:"Password"}),Object(n.jsx)("input",{value:this.state.password,onChange:this.handleChange,type:"password",name:"password",class:"form-control",id:"exampleInputPassword1",placeholder:"Enter Password"})]}),Object(n.jsxs)("div",{class:"form-group",children:[Object(n.jsx)("label",{className:"signup-title",for:"exampleInputPassword1",children:"Confirmed Password"}),Object(n.jsx)("input",{value:this.state.confirmedpassword,onChange:this.handleChange,type:"password",name:"confirmedpassword",class:"form-control",id:"exampleInputPassword1",placeholder:"Re-Enter Password"})]}),Object(n.jsx)("button",{onClick:this.signup,className:"login-button",children:"Sign Up"})]})})})}}]),a}(c.Component),M=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var s;return Object(o.a)(this,a),(s=t.call(this,e)).redirect=function(){var e=s.props.history;e&&e.push("/game")},s.login=s.login.bind(Object(d.a)(s)),s.handleChange=s.handleChange.bind(Object(d.a)(s)),s.state={email:"",password:""},s}return Object(l.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(D.a)({},e.target.name,e.target.value))}},{key:"login",value:function(e){var t=this;e.preventDefault(),x.auth().signInWithEmailAndPassword(this.state.email,this.state.password).then((function(e){t.redirect()})).catch((function(e){console.log(e),alert("Failed to log in. ".concat(e," Please try again."))}))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"login-tab",children:Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{class:"form-group",children:[Object(n.jsx)("label",{className:"title",for:"exampleInputEmail1",children:"Email Address"}),Object(n.jsx)("input",{value:this.state.email,onChange:this.handleChange,type:"email",name:"email",class:"form-control",id:"exampleInputEmail1",placeholder:"Enter Email"})]}),Object(n.jsxs)("div",{class:"form-group",children:[Object(n.jsx)("label",{className:"title",for:"exampleInputPassword1",children:"Password"}),Object(n.jsx)("input",{value:this.state.password,onChange:this.handleChange,type:"password",name:"password",class:"form-control",id:"exampleInputPassword1",placeholder:"Enter Password"})]}),Object(n.jsx)("button",{type:"submit",onClick:this.login,className:"login-button",children:"Log In"}),Object(n.jsx)(p.b,{to:"/signup",style:{textDecoration:"none"},children:Object(n.jsx)("button",{className:"signup-button",children:"Do not have an account? Sign up here"})})]})})}}]),a}(c.Component);a(55);var L=function(){return Object(n.jsxs)("div",{className:"rule-area",children:[Object(n.jsx)("div",{className:"rule-title",children:"Rules:"}),Object(n.jsx)("div",{className:"rule-body",children:"1. Use arrow keys on the keyboard to direct the snake"}),Object(n.jsx)("div",{className:"rule-body",children:"2. Connect the snake and the food"}),Object(n.jsx)("div",{className:"rule-body",children:"3. The speed will increase everytime the snake eats the food"}),Object(n.jsx)("div",{className:"rule-body",children:"4. Game ends when the snake touches the border of the game area"}),Object(n.jsx)("div",{className:"rule-body",children:"5. Opposite arrow keys cannot be used consecutively"})]})},A=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).state={user:null},e.authListener=e.authListener.bind(Object(d.a)(e)),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;x.auth().onAuthStateChanged((function(t){console.log(t),t?(e.setState({user:t}),localStorage.setItem("user",t.uid),localStorage.setItem("displayName",t.displayName)):(e.setState({user:null}),localStorage.removeItem("user"))}))}},{key:"render",value:function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsxs)(p.a,{children:[Object(n.jsx)(v,{}),Object(n.jsxs)("switch",{children:[Object(n.jsx)(O.a,{path:"/",exact:!0,component:g}),Object(n.jsx)(O.a,{path:"/game",component:I}),Object(n.jsx)(O.a,{path:"/rules",component:L}),Object(n.jsx)(O.a,{path:"/login",component:M}),Object(n.jsx)(O.a,{path:"/signup",component:P})]})]})})}}]),a}(c.Component);r.a.render(Object(n.jsx)(A,{}),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.6655e05f.chunk.js.map